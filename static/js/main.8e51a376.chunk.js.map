{"version":3,"sources":["utils/browser.js","utils/easing.js","utils/random.js","utils/color.js","utils/math.js","logic/galaxy.js","components/Canvas.js","utils/misc.js","components/Inputs.js","utils/analytics.js","presets.js","components/App.js","serviceWorker.js","index.js","utils/sharing.js","utils/hashing.js"],"names":["isiOS","test","navigator","userAgent","window","MSStream","supportsEffects","match","Easing","linear","t","easeInQuad","Math","pow","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","s","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","RNG","seed","Object","classCallCheck","this","original","_random","random","bind","orignal","x","floor","seededRandom","hexToRGB","hex","result","exec","r","parseInt","g","b","lerp","min","max","polarToCart","theta","y","polarToCart3d","theta1","theta2","z","rotationMatrix","roll","yaw","pitch","cosa","sina","cosb","sinb","cosc","sinc","Axx","Axy","Axz","Ayx","Ayy","Ayz","Azx","Azy","Azz","rotate","_ref","_ref2","px","py","pz","STATIC_ARM_CURVE","STATIC_ARM_SCALE_RATIO","getGalaxyStars","preset","radius","time","getRandomPosition","type","positionsRNG","ease","density","a","spiralCart","armsCurve","exp","spiralPolar","atan2","arm","arms","armAngleTransform","spiralCoords","spreadR","spread","spreadShape","spreadT1","spreadT2","spreadCoords","getZPosition","heightSpread","getSpiralPositionRandomizer","globularCoords","getGloburalPositionRandomizer","getRandomStyle","styleRNG","colors","starColor","map","size","minStarSize","maxStarSize","color","length","getStyleRandomizer","animationMatrix","cameraMtrix","cameraX","cameraZ","cameraY","stars","i","_getRandomPosition","animationRotatedVector","cameraRotatedVector","_getRandomStyle","push","position","rng","starR","sideShape","height","GLOBULAR_PADDING","ANIMATION_SPEED_MULTIPLIER","AVAILABLE_BLEND_MODES","draw","offscreenCanvas","presentedCtx","arguments","undefined","offscreenCanvasCtx","getContext","canvasSize","canvas","width","clearRect","imgData","getImageData","forEach","star","index","pixels","data","drawStar","putImageData","ctx","globalCompositeOperation","filter","fillStyle","spaceColor","fillRect","layers","layer","blend","blur","concat","drawImage","gradient","createRadialGradient","addColorStop","coreSize","finalizeWithEffects","watermark","font","fillText","addWatermark","Canvas","_ref3","canvasRef","offscreenCanvasRef","React","useRef","texturesCanvasRef","useLayoutEffect","current","raf","onFrame","animated","animSpeed","loopRaf","requestAnimationFrame","cancelAnimationFrame","react_default","createElement","Fragment","className","ref","isNotUndefined","val","immutableIndexUpdate","array","newValue","assign","defineProperty","immutableIndexSwitch","withIndex","_Object$assign2","BLEND_MODES_TO_TEXT","source-over","addToArray","key","onChange","fixAndroidKeyboardDismiss","e","keyCode","preventDefault","target","title","text","separator","input","options","rest","objectWithoutProperties","hasIndex","value","keyId","htmlFor","id","checked","parseFloat","onKeyUp","readOnly","onClick","select","option","Inputs","presets","onChangePreset","onSave","onSavePreset","onShare","href","rel","role","aria-label","name","step","keys","_","objectSpread","disabled","track","eventAction","ga","eventLabel","PRESET_VERSION","DEFAULT_PRESET","CANVAS_SIZE","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","localStorage","getItem","clear","setItem","ReactDOM","render","_React$useState","useState","default","JSON","parse","_React$useState2","slicedToArray","setPresets","_React$useState3","_React$useState4","setPresetValue","toBlob","blob","saveAs","newPresets","stringify","presetName","url","hashtags","shareURL","params","join","prop","encodeURIComponent","open","shareOnTwitter","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.8e51a376.chunk.js","sourcesContent":["export function isSafari() {\n  return !!navigator.userAgent.match(/Version\\/[\\d.]+.*Safari/);\n}\n\nexport function isiOS() {\n  return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n}\n\nexport function supportsEffects() {\n  return !isSafari() && !isiOS();\n}\n","export const Easing = {\n  linear: function(t) {\n    return t;\n  },\n  easeInQuad: function(t) {\n    return Math.pow(t, 2);\n  },\n\n  easeOutQuad: function(t) {\n    return -(Math.pow(t - 1, 2) - 1);\n  },\n\n  easeInOutQuad: function(t) {\n    if ((t /= 0.5) < 1) return 0.5 * Math.pow(t, 2);\n    return -0.5 * ((t -= 2) * t - 2);\n  },\n\n  easeInCubic: function(t) {\n    return Math.pow(t, 3);\n  },\n\n  easeOutCubic: function(t) {\n    return Math.pow(t - 1, 3) + 1;\n  },\n\n  easeInOutCubic: function(t) {\n    if ((t /= 0.5) < 1) return 0.5 * Math.pow(t, 3);\n    return 0.5 * (Math.pow(t - 2, 3) + 2);\n  },\n\n  easeInQuart: function(t) {\n    return Math.pow(t, 4);\n  },\n\n  easeOutQuart: function(t) {\n    return -(Math.pow(t - 1, 4) - 1);\n  },\n\n  easeInOutQuart: function(t) {\n    if ((t /= 0.5) < 1) return 0.5 * Math.pow(t, 4);\n    return -0.5 * ((t -= 2) * Math.pow(t, 3) - 2);\n  },\n\n  easeInQuint: function(t) {\n    return Math.pow(t, 5);\n  },\n\n  easeOutQuint: function(t) {\n    return Math.pow(t - 1, 5) + 1;\n  },\n\n  easeInOutQuint: function(t) {\n    if ((t /= 0.5) < 1) return 0.5 * Math.pow(t, 5);\n    return 0.5 * (Math.pow(t - 2, 5) + 2);\n  },\n\n  easeInSine: function(t) {\n    return -Math.cos(t * (Math.PI / 2)) + 1;\n  },\n\n  easeOutSine: function(t) {\n    return Math.sin(t * (Math.PI / 2));\n  },\n\n  easeInOutSine: function(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n  },\n\n  easeInExpo: function(t) {\n    return t === 0 ? 0 : Math.pow(2, 10 * (t - 1));\n  },\n\n  easeOutExpo: function(t) {\n    return t === 1 ? 1 : -Math.pow(2, -10 * t) + 1;\n  },\n\n  easeInOutExpo: function(t) {\n    if (t === 0) return 0;\n    if (t === 1) return 1;\n    if ((t /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (t - 1));\n    return 0.5 * (-Math.pow(2, -10 * --t) + 2);\n  },\n\n  easeInCirc: function(t) {\n    return -(Math.sqrt(1 - t * t) - 1);\n  },\n\n  easeOutCirc: function(t) {\n    return Math.sqrt(1 - Math.pow(t - 1, 2));\n  },\n\n  easeInOutCirc: function(t) {\n    if ((t /= 0.5) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n  },\n\n  easeOutBounce: function(t) {\n    if (t < 1 / 2.75) {\n      return 7.5625 * t * t;\n    } else if (t < 2 / 2.75) {\n      return 7.5625 * (t -= 1.5 / 2.75) * t + 0.75;\n    } else if (t < 2.5 / 2.75) {\n      return 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375;\n    } else {\n      return 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;\n    }\n  },\n\n  easeInBack: function(t) {\n    var s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack: function(t) {\n    var s = 1.70158;\n    return (t = t - 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack: function(t) {\n    var s = 1.70158;\n    if ((t /= 0.5) < 1) return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n  },\n\n  elastic: function(t) {\n    return -1 * Math.pow(4, -8 * t) * Math.sin(((t * 6 - 1) * (2 * Math.PI)) / 2) + 1;\n  },\n\n  swingFromTo: function(t) {\n    var s = 1.70158;\n    return (t /= 0.5) < 1 ? 0.5 * (t * t * (((s *= 1.525) + 1) * t - s)) : 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n  },\n\n  swingFrom: function(t) {\n    var s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  swingTo: function(t) {\n    var s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  bounce: function(t) {\n    if (t < 1 / 2.75) {\n      return 7.5625 * t * t;\n    } else if (t < 2 / 2.75) {\n      return 7.5625 * (t -= 1.5 / 2.75) * t + 0.75;\n    } else if (t < 2.5 / 2.75) {\n      return 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375;\n    } else {\n      return 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;\n    }\n  },\n\n  bouncePast: function(t) {\n    if (t < 1 / 2.75) {\n      return 7.5625 * t * t;\n    } else if (t < 2 / 2.75) {\n      return 2 - (7.5625 * (t -= 1.5 / 2.75) * t + 0.75);\n    } else if (t < 2.5 / 2.75) {\n      return 2 - (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375);\n    } else {\n      return 2 - (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375);\n    }\n  },\n};\n","export default class RNG {\n  constructor(seed) {\n    this.seed = seed;\n    this.original = seed;\n    this._random = this.random.bind(this);\n  }\n\n  reset() {\n    this.seed = this.orignal;\n  }\n\n  seededRandom(seed) {\n    let x = Math.sin(seed) * 10000;\n    return x - Math.floor(x);\n  }\n\n  random() {\n    return this.seededRandom(this.seed++);\n  }\n}\n","export function hexToRGB(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16),\n  };\n}\n","export function spiral(a, b, t) {\n  const x = a * Math.exp(b * t) * Math.cos(t);\n  const y = a * Math.exp(b * t) * Math.sin(t);\n  return { x, y };\n}\n\nexport function lerp(min, max, t) {\n  return min + (max - min) * t;\n}\n\nexport function polarToCart(r, theta) {\n  return {\n    x: r * Math.cos(theta),\n    y: r * Math.sin(theta),\n  };\n}\n\nexport function polarToCart3d(r, theta1, theta2) {\n  return {\n    x: r * Math.sin(theta1) * Math.cos(theta2),\n    y: r * Math.sin(theta1) * Math.sin(theta2),\n    z: r * Math.cos(theta1),\n  };\n}\n\nexport function rotationMatrix(roll, yaw, pitch) {\n  let cosa = Math.cos(yaw);\n  let sina = Math.sin(yaw);\n\n  let cosb = Math.cos(pitch);\n  let sinb = Math.sin(pitch);\n\n  let cosc = Math.cos(roll);\n  let sinc = Math.sin(roll);\n\n  let Axx = cosa * cosb;\n  let Axy = cosa * sinb * sinc - sina * cosc;\n  let Axz = cosa * sinb * cosc + sina * sinc;\n\n  let Ayx = sina * cosb;\n  let Ayy = sina * sinb * sinc + cosa * cosc;\n  let Ayz = sina * sinb * cosc - cosa * sinc;\n\n  let Azx = -sinb;\n  let Azy = cosb * sinc;\n  let Azz = cosb * cosc;\n\n  return { Axx, Axy, Axz, Ayx, Ayy, Ayz, Azx, Azy, Azz };\n}\n\nexport function rotate({ x: px, y: py, z: pz }, { Axx, Axy, Axz, Ayx, Ayy, Ayz, Azx, Azy, Azz }) {\n  return {\n    x: Axx * px + Axy * py + Axz * pz,\n    y: Ayx * px + Ayy * py + Ayz * pz,\n    z: Azx * px + Azy * py + Azz * pz,\n  };\n}\n\nexport function cartToPolar(x, y) {\n  let r = Math.sqrt(x * x + y * y);\n  let t = Math.atan2(y, x);\n  return { r, t };\n}\n","import { Easing } from '../utils/easing';\nimport RNG from '../utils/random';\nimport { hexToRGB } from '../utils/color';\nimport { rotationMatrix, lerp, spiral, rotate, polarToCart, cartToPolar, polarToCart3d } from '../utils/math';\n\nconst STATIC_ARM_CURVE = 2;\nconst STATIC_ARM_SCALE_RATIO = 28;\n\nexport function getGalaxyStars(preset, radius, time) {\n  const getRandomPosition =\n    preset.type === 'spiral' ? getSpiralPositionRandomizer(preset, radius, time) : getGloburalPositionRandomizer(preset, radius, time);\n  const getRandomStyle = getStyleRandomizer(preset);\n  const animationMatrix = rotationMatrix(0, time, 0);\n  const cameraMtrix = rotationMatrix(preset.cameraX, preset.cameraZ, preset.cameraY);\n\n  let stars = [];\n  for (let i = 0; i < preset.stars; i++) {\n    let { x, y, z } = getRandomPosition();\n    const animationRotatedVector = rotate({ x, y, z }, animationMatrix);\n    const cameraRotatedVector = rotate(\n      {\n        x: animationRotatedVector.x,\n        y: animationRotatedVector.y,\n        z: animationRotatedVector.z,\n      },\n      cameraMtrix\n    );\n    const { size, color } = getRandomStyle();\n    stars.push({ size, color, position: cameraRotatedVector });\n  }\n  return stars;\n}\n\nfunction getStyleRandomizer(preset) {\n  const styleRNG = new RNG(preset.seed);\n  const colors = preset.starColor.map(hexToRGB);\n  return () => {\n    return {\n      size: lerp(preset.minStarSize, preset.maxStarSize, styleRNG.random()),\n      color: colors[Math.floor(styleRNG.random() * colors.length)],\n    };\n  };\n}\n\nfunction getGloburalPositionRandomizer(preset, radius) {\n  const positionsRNG = new RNG(preset.seed);\n  const ease = Easing[preset.density];\n  return () => {\n    const r = lerp(0, radius, ease(Math.sqrt(positionsRNG.random())));\n    const t = lerp(0, Math.PI * 2, positionsRNG.random());\n    const globularCoords = polarToCart(r, t);\n    const spreadR = lerp(0, preset.spread, Easing[preset.spreadShape](positionsRNG.random()));\n    const spreadT1 = lerp(0, Math.PI * 2, positionsRNG.random());\n    const spreadT2 = lerp(0, Math.PI * 2, positionsRNG.random());\n    const spreadCoords = polarToCart3d(spreadR, spreadT1, spreadT2);\n    return {\n      x: globularCoords.x + spreadCoords.x,\n      y: globularCoords.y + spreadCoords.y,\n      z: getZPosition(preset, positionsRNG, radius, r) + spreadCoords.z * preset.heightSpread,\n    };\n  };\n}\n\nfunction getSpiralPositionRandomizer(preset, radius) {\n  const positionsRNG = new RNG(preset.seed);\n  const ease = Easing[preset.density];\n  return () => {\n    const spiralCart = spiral(STATIC_ARM_CURVE, preset.armsCurve, ease(positionsRNG.random()) * (radius / STATIC_ARM_SCALE_RATIO));\n    const spiralPolar = cartToPolar(spiralCart.x, spiralCart.y);\n    const arm = Math.floor(positionsRNG.random() * preset.arms);\n    const armAngleTransform = 2 * Math.PI * (arm / preset.arms);\n    const spiralCoords = polarToCart(spiralPolar.r, spiralPolar.t + armAngleTransform);\n    const spreadR = lerp(0, preset.spread, Easing[preset.spreadShape](positionsRNG.random()));\n    const spreadT1 = lerp(0, Math.PI * 2, positionsRNG.random());\n    const spreadT2 = lerp(0, Math.PI * 2, positionsRNG.random());\n    const spreadCoords = polarToCart3d(spreadR, spreadT1, spreadT2);\n    return {\n      x: spiralCoords.x + spreadCoords.x,\n      y: spiralCoords.y + spreadCoords.y,\n      z: getZPosition(preset, positionsRNG, radius, spiralPolar.r) + spreadCoords.z * preset.heightSpread,\n    };\n  };\n}\n\nfunction getZPosition(preset, rng, radius, starR) {\n  const ratio = 1 - Easing[preset.sideShape](starR / radius);\n  const position = ratio * rng.random() * preset.height;\n  const side = rng.random() > 0.5 ? 1 : -1;\n  return position * side;\n}\n","import React from 'react';\nimport { supportsEffects } from '../utils/browser';\nimport { getGalaxyStars } from '../logic/galaxy';\n\nconst GLOBULAR_PADDING = 20;\nconst ANIMATION_SPEED_MULTIPLIER = 0.0001;\n\nexport const AVAILABLE_BLEND_MODES = [\n  'source-over',\n  'lighter',\n  'multiply',\n  'screen',\n  'overlay',\n  'darken',\n  'lighten',\n  'color-dodge',\n  'color-burn',\n  'hard-light',\n  'soft-light',\n];\n\nexport function draw(offscreenCanvas, presentedCtx, preset, time = 0) {\n  const offscreenCanvasCtx = offscreenCanvas.getContext('2d');\n  const canvasSize = offscreenCanvasCtx.canvas.width;\n  const radius = canvasSize / 2;\n  const transformedRadius = preset.type === 'globular' ? radius - GLOBULAR_PADDING : radius;\n\n  const stars = getGalaxyStars(preset, transformedRadius, time);\n  offscreenCanvasCtx.clearRect(0, 0, canvasSize, canvasSize);\n  const imgData = offscreenCanvasCtx.getImageData(0, 0, canvasSize, canvasSize);\n  stars.forEach(star => drawStar(imgData, canvasSize, star.position, star.size, star.color));\n  offscreenCanvasCtx.putImageData(imgData, 0, 0);\n\n  finalizeWithEffects(offscreenCanvas, presentedCtx, canvasSize, preset);\n  addWatermark(preset, presentedCtx, canvasSize);\n}\n\nfunction drawStar(imgData, canvasSize, { x, y }, size, { r, g, b }) {\n  if (x > canvasSize / 2 || x < -canvasSize / 2 || y > canvasSize / 2 || y < -canvasSize / 2) {\n    return;\n  }\n  const index = (Math.floor(x) + canvasSize / 2 + (Math.floor(y) + canvasSize / 2) * canvasSize) * 4;\n  const pixels = imgData.data;\n  pixels[index + 0] = r;\n  pixels[index + 1] = g;\n  pixels[index + 2] = b;\n  pixels[index + 3] = 255;\n}\n\nfunction finalizeWithEffects(offscreenCanvas, ctx, canvasSize, preset) {\n  ctx.globalCompositeOperation = 'source-over';\n  ctx.filter = 'none';\n  ctx.fillStyle = preset.spaceColor;\n  ctx.fillRect(0, 0, canvasSize, canvasSize);\n\n  if (supportsEffects()) {\n    preset.layers.forEach(layer => {\n      ctx.globalCompositeOperation = layer.blend;\n      ctx.filter = layer.blur > 0 ? `blur(${layer.blur}px)` : 'none';\n      if (layer.type === 'glow') {\n        ctx.drawImage(offscreenCanvas, 0, 0);\n      } else if (layer.type === 'core') {\n        const gradient = ctx.createRadialGradient(canvasSize / 2, canvasSize / 2, 0, canvasSize / 2, canvasSize / 2, layer.size / 2);\n        gradient.addColorStop(0, 'white');\n        gradient.addColorStop(0.5, layer.color);\n        gradient.addColorStop(1, 'transparent');\n        ctx.fillStyle = gradient;\n        ctx.fillRect((canvasSize - preset.coreSize) / 2, (canvasSize - preset.coreSize) / 2, preset.coreSize, preset.coreSize);\n      }\n    });\n  }\n}\n\nfunction addWatermark(preset, ctx, canvasSize) {\n  if (preset.watermark) {\n    ctx.globalCompositeOperation = 'source-over';\n    ctx.filter = 'none';\n    ctx.font = '24px Arial';\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.75)';\n    ctx.fillText('creategalaxy.com', 8, canvasSize - 10);\n  }\n}\n\n//////////////////////////////////////////////////\n\nlet time = 0;\n\nexport default function Canvas({ size, preset, canvasRef }) {\n  const offscreenCanvasRef = React.useRef(null);\n  const texturesCanvasRef = React.useRef(null);\n\n  React.useLayoutEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const offscreenCanvas = offscreenCanvasRef.current;\n    let raf = null;\n\n    const onFrame = () => {\n      if (preset.animated) {\n        time += (preset.animSpeed || 0) * ANIMATION_SPEED_MULTIPLIER;\n        draw(offscreenCanvas, ctx, preset, time);\n        loopRaf();\n      } else {\n        draw(offscreenCanvas, ctx, preset, time);\n      }\n    };\n\n    const loopRaf = () => {\n      raf = window.requestAnimationFrame(onFrame);\n    };\n\n    const stopRaf = () => {\n      window.cancelAnimationFrame(raf);\n    };\n\n    onFrame();\n\n    return stopRaf;\n  }, [preset, canvasRef]);\n\n  return (\n    <>\n      <canvas className=\"textures-canvas\" ref={texturesCanvasRef} width={size} height={size} />\n      <canvas className=\"offscreen-canvas\" ref={offscreenCanvasRef} width={size} height={size} />\n      <canvas className=\"canvas\" ref={canvasRef} width={size} height={size} />\n    </>\n  );\n}\n","export function isNotUndefined(val) {\n  return val !== undefined;\n}\n\nexport function immutableIndexUpdate(array, index, newValue) {\n  return Object.assign([], array, {\n    [index]: newValue,\n  });\n}\n\nexport function immutableIndexSwitch(array, index, withIndex) {\n  return Object.assign([], array, {\n    [index]: array[withIndex],\n    [withIndex]: array[index],\n  });\n}\n","import React from 'react';\nimport { Easing } from '../utils/easing';\nimport { isNotUndefined, immutableIndexUpdate, immutableIndexSwitch } from '../utils/misc';\nimport { supportsEffects, isiOS } from '../utils/browser';\nimport { AVAILABLE_BLEND_MODES } from './Canvas';\n\nconst BLEND_MODES_TO_TEXT = {\n  'source-over': 'plain',\n};\n\nfunction addToArray(preset, key, onChange) {\n  const array = preset[key];\n  return () => {\n    onChange({\n      [key]: array.concat(array[array.length - 1]),\n    });\n  };\n}\n\nfunction fixAndroidKeyboardDismiss(e) {\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    e.target.blur();\n  }\n}\n\nfunction title(text) {\n  return (\n    <div className=\"row\">\n      <h4>{text}</h4>\n    </div>\n  );\n}\n\nfunction separator() {\n  return (\n    <div className=\"row\">\n      <hr />\n    </div>\n  );\n}\n\nfunction input(type, preset, key, onChange, options = {}) {\n  const { index, ...rest } = options;\n  const hasIndex = index !== undefined;\n  const value = hasIndex ? preset[key][index] : preset[key];\n  const keyId = hasIndex ? `${key}:${index}` : key;\n  return (\n    <div key={keyId} className=\"row\">\n      <label className=\"input-label\" htmlFor={keyId}>\n        {keyId}\n      </label>\n      <input\n        id={keyId}\n        className=\"standard-input\"\n        type={type}\n        value={value}\n        checked={type === 'checkbox' ? preset[key] : false}\n        onChange={e => {\n          const newValue =\n            type === 'checkbox'\n              ? e.target.checked\n              : type === 'number'\n              ? e.target.value === ''\n                ? ''\n                : parseFloat(e.target.value)\n              : e.target.value;\n          if (hasIndex) {\n            onChange({\n              [key]: immutableIndexUpdate(preset[key], index, newValue),\n            });\n          } else {\n            onChange({ [key]: newValue });\n          }\n        }}\n        onKeyUp={fixAndroidKeyboardDismiss}\n        {...rest}\n      />\n      {type === 'range' && <input className=\"fill-input\" type=\"text\" readOnly value={value} />}\n      {hasIndex && preset[key].length > 1 && (\n        <button\n          className=\"destructive\"\n          onClick={() => {\n            onChange({\n              [key]: immutableIndexUpdate(preset[key], index, undefined).filter(isNotUndefined),\n            });\n          }}\n        >\n          ✖\n        </button>\n      )}\n    </div>\n  );\n}\n\nfunction select(value, key, options, onChange) {\n  return (\n    <div className=\"row\">\n      <label className=\"input-label\" htmlFor={key}>\n        {key}\n      </label>\n      <select id={key} className=\"standard-input\" value={value} onChange={e => onChange({ [key]: e.target.value })}>\n        {' '}\n        {options.map(option => (\n          <option key={option} value={option}>\n            {option}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n\nfunction layer(preset, index, onChange) {\n  const layer = preset.layers[index];\n  const keyId = `layer${index}`;\n  return (\n    <div key={keyId} className=\"layer row\">\n      <select\n        className=\"blend\"\n        value={layer.blend}\n        onChange={e => {\n          onChange({\n            layers: immutableIndexUpdate(preset.layers, index, { ...layer, blend: e.target.value }),\n          });\n        }}\n      >\n        {' '}\n        {AVAILABLE_BLEND_MODES.map(option => (\n          <option key={option} value={option}>\n            {BLEND_MODES_TO_TEXT[option] ? BLEND_MODES_TO_TEXT[option] : option}\n          </option>\n        ))}\n      </select>\n\n      <input\n        type=\"number\"\n        className=\"blur\"\n        value={layer.blur}\n        min={0}\n        onChange={e => {\n          onChange({\n            layers: immutableIndexUpdate(preset.layers, index, { ...layer, blur: e.target.value }),\n          });\n        }}\n        onKeyUp={fixAndroidKeyboardDismiss}\n      />\n\n      {preset.layers.length > 1 && (\n        <>\n          <button\n            disabled={index === 0}\n            onClick={() => {\n              onChange({\n                layers: immutableIndexSwitch(preset.layers, index, index - 1),\n              });\n            }}\n          >\n            ⬆\n          </button>\n          <button\n            disabled={index === preset.layers.length - 1}\n            onClick={() => {\n              onChange({\n                layers: immutableIndexSwitch(preset.layers, index, index + 1),\n              });\n            }}\n          >\n            ⬇\n          </button>\n          <button\n            className=\"destructive\"\n            onClick={() => {\n              onChange({\n                layers: immutableIndexUpdate(preset.layers, index, undefined).filter(isNotUndefined),\n              });\n            }}\n          >\n            ✖\n          </button>\n        </>\n      )}\n    </div>\n  );\n}\n\n//////////////////////////////////////////////////\n\nexport default function Inputs({ presets, preset, onChange, onChangePreset, onSave, onSavePreset, onShare }) {\n  return (\n    <div className=\"inputs\">\n      <div className=\"row\">\n        <div className=\"info\">\n          <strong>#creategalaxy</strong> by{' '}\n          <a href=\"https://twitter.com/ShayHDavidson\" target=\"_blank\" rel=\"noopener noreferrer\">\n            @ShayDavidson\n          </a>\n        </div>\n      </div>\n      <div className=\"row\">\n        <button className=\"action-button\" onClick={onSave}>\n          <span role=\"img\" aria-label=\"save-image\">\n            📷\n          </span>{' '}\n          Save Image\n        </button>\n        <button className=\"action-button\" onClick={onSavePreset}>\n          <span role=\"img\" aria-label=\"save-preset\">\n            💾\n          </span>{' '}\n          Save Preset\n        </button>\n      </div>\n      <div className=\"row\">\n        <button className=\"action-button\" onClick={onShare}>\n          <span className=\"twitter-icon\" role=\"img\" aria-label=\"share\">\n            💾\n          </span>{' '}\n          Share\n        </button>\n        <a href=\"https://github.com/ShayDavidson/create-galaxy\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <button className=\"action-button\">\n            <span className=\"github-icon\" role=\"img\" aria-label=\"share\">\n              💾\n            </span>{' '}\n            Contribute\n          </button>\n        </a>\n      </div>\n\n      {separator()}\n\n      {select(preset.name, 'preset', presets, onChangePreset)}\n      {input('text', preset, 'name', onChange)}\n      {input('number', preset, 'seed', onChange, { min: 0, step: 1 })}\n      {input('number', preset, 'stars', onChange, { min: 0, step: 5000 })}\n\n      {title('Shape')}\n      {select(preset['type'], 'type', ['spiral', 'globular'], onChange)}\n      {select(preset['density'], 'density', Object.keys(Easing), onChange)}\n      {input('number', preset, 'spread', onChange, { min: 0, step: 1 })}\n      {select(preset['spreadShape'], 'spreadShape', Object.keys(Easing), onChange)}\n      {select(preset['sideShape'], 'sideShape', Object.keys(Easing), onChange)}\n      {input('number', preset, 'height', onChange, { min: 0, step: 1 })}\n      {input('number', preset, 'heightSpread', onChange, {\n        min: 0,\n        max: 1,\n        step: 0.1,\n      })}\n      {preset.type === 'spiral' && (\n        <>\n          {input('range', preset, 'arms', onChange, {\n            min: 1,\n            max: 10,\n            step: 1,\n          })}\n          {input('range', preset, 'armsCurve', onChange, {\n            min: 0,\n            max: 5,\n            step: 0.025,\n          })}\n        </>\n      )}\n\n      {title('Colors')}\n      {input('color', preset, 'spaceColor', onChange)}\n      {preset.starColor.map((_, index) => {\n        return input('color', preset, 'starColor', onChange, { index });\n      })}\n      <div className=\"row\">\n        <button className=\"add-button\" onClick={addToArray(preset, 'starColor', onChange)}>\n          <span role=\"img\" aria-label=\"add-color\">\n            🎨\n          </span>{' '}\n          Add color\n        </button>\n      </div>\n\n      {title('Sizes')}\n      {input('number', preset, 'minStarSize', onChange, {\n        min: newFunction(),\n        step: 0.1,\n      })}\n      {input('number', preset, 'maxStarSize', onChange, {\n        min: 0,\n        step: 0.1,\n      })}\n\n      {title('Camera')}\n      {input('range', preset, 'cameraX', onChange, {\n        min: 0,\n        max: Math.PI * 2,\n        step: 0.05,\n      })}\n      {input('range', preset, 'cameraY', onChange, {\n        min: 0,\n        max: Math.PI * 2,\n        step: 0.05,\n      })}\n      {input('range', preset, 'cameraZ', onChange, {\n        min: 0,\n        max: Math.PI * 2,\n        step: 0.05,\n      })}\n\n      {title('Effect Layers')}\n      {supportsEffects() ? (\n        <>\n          {preset.layers.map((_, index) => {\n            return layer(preset, index, onChange);\n          })}\n          <div className=\"row\">\n            <button className=\"add-button\" onClick={addToArray(preset, 'layers', onChange)}>\n              <span role=\"img\" aria-label=\"add-effect-layer\">\n                💥\n              </span>{' '}\n              Add layer\n            </button>\n          </div>\n        </>\n      ) : (\n        <div className=\"error\">{isiOS() ? 'Not supported in iPhone 😞' : 'Not supported in this browser 😞'}</div>\n      )}\n\n      {title('Extra')}\n      {input('checkbox', preset, 'animated', onChange)}\n      {preset.animated &&\n        input('number', preset, 'animSpeed', onChange, {\n          min: 0.1,\n          step: 0.1,\n        })}\n      {input('checkbox', preset, 'watermark', onChange)}\n\n      {separator()}\n    </div>\n  );\n\n  function newFunction() {\n    return 0;\n  }\n}\n","export function track(eventAction, value = undefined) {\n  if (window.ga) {\n    window.ga('send', 'event', { eventAction, eventLabel: value });\n  }\n}\n","export function invalidatePresetCacheIfNeeded() {\n  if (localStorage.getItem('presetVersion') !== PRESET_VERSION) {\n    localStorage.clear();\n    localStorage.setItem('presetVersion', PRESET_VERSION);\n  }\n}\n\nexport const PRESET_VERSION = '1';\n\nexport const DEFAULT_PRESET = {\n  name: 'default',\n  seed: 1234,\n  stars: 30000,\n  spaceColor: '#020e26',\n  starColor: ['#EEEDBE', '#0388A6', '#025059', '#E9F2EB', '#7CA67B'],\n  minStarSize: 0.8,\n  maxStarSize: 2.3,\n  density: 'easeInQuad',\n  spread: 675,\n  spreadShape: 'easeInCubic',\n  sideShape: 'easeOutCubic',\n  heightSpread: 0.1,\n  height: 25,\n  cameraX: 0.5,\n  cameraY: 1.0,\n  cameraZ: 2.0,\n  animated: false,\n  animSpeed: 20,\n  type: 'spiral',\n  layers: [\n    { blur: 10, blend: 'source-over', type: 'glow' },\n    { blur: 5, blend: 'screen', type: 'glow' },\n    { blur: 10, blend: 'lighten', type: 'glow' },\n    { blur: 0, blend: 'screen', type: 'glow' },\n    { blur: 0, blend: 'overlay', type: 'glow' },\n    { blur: 0, blend: 'source-over', type: 'glow' },\n    {\n      blur: 30,\n      blend: 'overlay',\n      type: 'core',\n      size: 600,\n      color: '#98C0E6',\n    },\n  ],\n  arms: 2,\n  armsCurve: 0.275,\n  watermark: true,\n};\n","import React from 'react';\nimport Canvas from './Canvas';\nimport Inputs from './Inputs';\nimport { saveAs } from 'file-saver';\nimport { shareOnTwitter, presetToUrl } from '../utils/sharing';\nimport { track } from '../utils/analytics';\nimport { DEFAULT_PRESET } from '../presets';\n\nconst CANVAS_SIZE = 1500;\n\nexport default function App() {\n  const canvasRef = React.useRef(null);\n\n  const [presets, setPresets] = React.useState({\n    default: DEFAULT_PRESET,\n    ...JSON.parse(localStorage.getItem('presets') || '{}'),\n  });\n\n  const [preset, setPresetValue] = React.useState(presets[localStorage.getItem('lastPreset')] || DEFAULT_PRESET);\n\n  const onSave = () => {\n    track('click', 'imageSaved');\n    canvasRef.current.toBlob(blob => {\n      saveAs(blob, `galaxy-${preset.name}.png`);\n    });\n  };\n\n  const onChange = value => {\n    track('inputChanged', Object.keys(value)[0]);\n    setPresetValue({ ...preset, ...value });\n  };\n\n  const onSavePreset = () => {\n    track('click', 'presetSaved');\n    const newPresets = { ...presets, [preset.name]: preset };\n    localStorage.setItem('presets', JSON.stringify(newPresets));\n    localStorage.setItem('lastPreset', preset.name);\n    setPresets(newPresets);\n  };\n\n  const onChangePreset = value => {\n    const presetName = value.preset;\n    track('presetChanged');\n    setPresetValue(presets[presetName]);\n    localStorage.setItem('lastPreset', presetName);\n  };\n\n  const onShare = () => {\n    track('click', 'shareTwitter');\n    shareOnTwitter(presetToUrl(preset), 'I created a galaxy! ⭐', ['icreatedagalaxy', 'reversim2019']);\n  };\n\n  return (\n    <div className=\"layout\">\n      <Canvas canvasRef={canvasRef} size={CANVAS_SIZE} preset={preset} />\n      <Inputs\n        presets={Object.keys(presets)}\n        preset={preset}\n        onSave={onSave}\n        onSavePreset={onSavePreset}\n        onChange={onChange}\n        onChangePreset={onChangePreset}\n        onShare={onShare}\n      />\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log('This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA');\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log('New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.');\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { invalidatePresetCacheIfNeeded } from './presets';\n\ninvalidatePresetCacheIfNeeded();\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.register();\n","import { presetToHash } from './hashing';\n\nexport function presetToUrl(preset) {\n  return `${window.location.href}?=${presetToHash(preset)}`;\n}\n\nexport function shareOnTwitter(url, text, hashtags) {\n  let shareURL = 'http://twitter.com/share?';\n  const params = {\n    url,\n    text,\n    hashtags: hashtags.join(','),\n  };\n  for (var prop in params) shareURL += '&' + prop + '=' + encodeURIComponent(params[prop]);\n  window.open(shareURL, '', 'left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0');\n}\n","export function presetToHash(preset) {\n  return '';\n}\n\nexport function hashToPreset(hash) {\n  return {};\n}\n"],"sourceRoot":""}