(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),l=a.n(o),i=(a(15),a(1)),c=a(2),s=a(3),u={linear:function(e){return e},easeInQuad:function(e){return e*e},easeInAlot:function(e){return Math.pow(e,20)},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInElastic:function(e){return(.04-.04/e)*Math.sin(25*e)+1},easeOutElastic:function(e){return.04*e/--e*Math.sin(25*e)},easeInOutElastic:function(e){return(e-=.5)<0?(.02+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},m=a(7),d=a(8),h=function(){function e(t){Object(m.a)(this,e),this.seed=t,this.original=t,this._random=this.random.bind(this)}return Object(d.a)(e,[{key:"reset",value:function(){this.seed=this.orignal}},{key:"seededRandom",value:function(e){var t=1e4*Math.sin(e);return t-Math.floor(t)}},{key:"random",value:function(){return this.seededRandom(this.seed++)}}]),e}();function p(e,t,a){return e+(t-e)*a}function f(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}function g(e,t,a){return{x:e*Math.sin(t)*Math.cos(a),y:e*Math.sin(t)*Math.sin(a),z:e*Math.cos(t)}}function v(e,t,a){var n=Math.cos(t),r=Math.sin(t),o=Math.cos(a),l=Math.sin(a),i=Math.cos(e),c=Math.sin(e);return{Axx:n*o,Axy:n*l*c-r*i,Axz:n*l*i+r*c,Ayx:r*o,Ayy:r*l*c+n*i,Ayz:r*l*i-n*c,Azx:-l,Azy:o*c,Azz:o*i}}function b(e,t){var a=e.x,n=e.y,r=e.z;return{x:t.Axx*a+t.Axy*n+t.Axz*r,y:t.Ayx*a+t.Ayy*n+t.Ayz*r,z:t.Azx*a+t.Azy*n+t.Azz*r}}var y=2,E=28,x=1e-4,w=10;function S(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.getContext("2d"),o=r.canvas.width,l="spiral"===a.type?function(e,t){var a=new h(e.seed),n=u[e.density];return function(){var r,o,l,i,c,s=(r=y,o=e.armsCurve,l=n(a.random())*(t/E),{x:r*Math.exp(o*l)*Math.cos(l),y:r*Math.exp(o*l)*Math.sin(l)}),m=(i=s.x,c=s.y,{r:Math.sqrt(i*i+c*c),t:Math.atan2(c,i)}),d=Math.floor(a.random()*e.arms),h=2*Math.PI*(d/e.arms),v=f(m.r,m.t+h),b=p(0,e.spread,u[e.spreadShape](a.random())),x=p(0,2*Math.PI,a.random()),w=p(0,2*Math.PI,a.random()),S=g(b,x,w);return{x:v.x+S.x,y:v.y+S.y,z:C(e,a,t,m.r)+S.z*e.heightSpread}}}(a,o/2):function(e,t){var a=new h(e.seed),n=u[e.density];return function(){var r=p(0,t,n(Math.sqrt(a.random()))),o=p(0,2*Math.PI,a.random()),l=f(r,o),i=p(0,e.spread,u[e.spreadShape](a.random())),c=p(0,2*Math.PI,a.random()),s=p(0,2*Math.PI,a.random()),m=g(i,c,s);return{x:l.x+m.x,y:l.y+m.y,z:C(e,a,t,r)+m.z*e.heightSpread}}}(a,o/2),i=function(e){var t=new h(e.seed),a=[e.starColor0,e.starColor1,e.starColor2,e.starColor3,e.starColor4];return function(){return{size:p(e.minStarSize,e.maxStarSize,t.random()),color:a[Math.floor(t.random()*a.length)]}}}(a),c=v(0,n,0),s=v(a.cameraX,a.cameraZ,a.cameraY);r.clearRect(0,0,o,o),r.save(),r.translate(o/2,o/2);for(var m=0;m<a.stars;m++){var d=l(),x=b({x:d.x,y:d.y,z:d.z},c),S=b({x:x.x,y:x.y,z:x.z},s),M=i();z(r,S,M.size,M.color)}r.restore(),function(e,t,a,n){t.globalCompositeOperation="source-over",t.filter="none",t.fillStyle=n.spaceColor,t.fillRect(0,0,a,a),t.filter="blur(".concat(n.backgroundGlow,"px)"),t.drawImage(e,0,0),t.globalCompositeOperation="screen",t.filter="blur(".concat(n.backgroundGlow/w,"px)"),t.drawImage(e,0,0),t.globalCompositeOperation="lighten",t.filter="blur(".concat(n.starGlow,"px)"),t.drawImage(e,0,0),t.globalCompositeOperation="overlay",t.filter="blur(".concat(n.coreBlur,"px)");var r=t.createRadialGradient(a/2,a/2,0,a/2,a/2,n.coreSize/2);r.addColorStop(0,"white"),r.addColorStop(.5,n.coreColor),r.addColorStop(1,"transparent"),t.fillStyle=r,t.fillRect((a-n.coreSize)/2,(a-n.coreSize)/2,n.coreSize,n.coreSize),t.globalCompositeOperation="screen",t.filter="blur(".concat(n.starBlur,"px)"),t.drawImage(e,0,0),t.font="24px Arial",t.fillStyle="rgba(255, 255, 255, 0.75)",t.fillText("creategalaxy.com",8,a-10)}(e,t,o,a)}function C(e,t,a,n){return(1-u[e.sideShape](n/a))*t.random()*e.height*(t.random()>.5?1:-1)}function z(e,t,a,n){var r=t.x,o=t.y;e.fillStyle=n,e.fillRect(r-a/2,o-a/2,a,a)}var M=0;function k(e){var t=e.size,a=e.preset,n=e.canvasRef,o=r.a.useRef(null);return r.a.useLayoutEffect(function(){var e=n.current.getContext("2d"),t=o.current,r=null,l=function(){a.animated?(M+=(a.speed||0)*x,S(t,e,a,M)):0===M&&S(t,e,a,M),i()},i=function(){r=window.requestAnimationFrame(l)};return l(),function(){window.cancelAnimationFrame(r)}},[a,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{className:"offscreen-canvas",ref:o,width:t,height:t}),r.a.createElement("canvas",{className:"canvas",ref:n,width:t,height:t}))}function O(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return r.a.createElement("tr",null,r.a.createElement("td",{style:{width:108}},r.a.createElement("strong",null,r.a.createElement("label",{htmlFor:a},a))),r.a.createElement("td",{style:{width:108}},r.a.createElement("input",Object.assign({id:a,type:e,value:t[a],checked:"checkbox"===e&&t[a],onChange:function(t){return n(Object(i.a)({},a,"checkbox"===e?t.target.checked:"number"===e?""===t.target.value?0:parseFloat(t.target.value):t.target.value))}},o))),"range"===e&&r.a.createElement("td",null,r.a.createElement("input",{type:"text",readOnly:!0,value:t[a]})))}function I(e,t,a,n){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("label",{htmlFor:t},t))),r.a.createElement("td",null,r.a.createElement("select",{id:t,value:e,onChange:function(e){return n(Object(i.a)({},t,e.target.value))}}," ",a.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}function A(e){var t=e.presets,a=e.preset,n=e.onChange,o=e.onChangePreset,l=e.onSave,i=e.onSavePreset;return r.a.createElement("table",{className:"inputs"},r.a.createElement("tbody",{className:"inputs-body"},r.a.createElement("tr",null,r.a.createElement("td",{colspan:"3"},r.a.createElement("div",{className:"info"},"#creategalaxy by"," ",r.a.createElement("a",{href:"https://twitter.com/ShayHDavidson",target:"_blank"},"@ShayDavidson")),r.a.createElement("hr",null))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:l},r.a.createElement("span",{role:"img","aria-label":"save-image"},"\ud83c\udf0c")," ","Save as Image")),r.a.createElement("td",null,r.a.createElement("button",{onClick:i},r.a.createElement("span",{role:"img","aria-label":"save-preset"},"\ud83d\udcbe")," ","Save Preset"))),I(a.name,"preset",t,o),O("text",a,"name",n),O("number",a,"seed",n,{min:0,step:1}),O("number",a,"stars",n,{min:0,step:5e3}),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h4",null,"Shape"))),I(a.type,"type",["spiral","globular"],n),I(a.denstiy,"density",Object.keys(u),n),O("number",a,"spread",n,{min:0,step:1}),I(a.spreadShape,"spreadShape",Object.keys(u),n),I(a.sideShape,"sideShape",Object.keys(u),n),O("number",a,"height",n,{min:0,step:1}),O("number",a,"heightSpread",n,{min:0,max:1,step:.1}),"spiral"===a.type&&r.a.createElement(r.a.Fragment,null,O("range",a,"arms",n,{min:1,max:8,step:1}),O("range",a,"armsCurve",n,{min:0,max:4,step:.05})),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h4",null,"Colors"))),O("color",a,"spaceColor",n),O("color",a,"coreColor",n),O("color",a,"starColor0",n),O("color",a,"starColor1",n),O("color",a,"starColor2",n),O("color",a,"starColor3",n),O("color",a,"starColor4",n),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h4",null,"Sizes"))),O("number",a,"minStarSize",n,{min:0,step:.1}),O("number",a,"maxStarSize",n,{min:0,step:.1}),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h4",null,"Camera"))),O("range",a,"cameraX",n,{min:0,max:2*Math.PI,step:.05}),O("range",a,"cameraY",n,{min:0,max:2*Math.PI,step:.05}),O("range",a,"cameraZ",n,{min:0,max:2*Math.PI,step:.05}),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h4",null,"Effects"))),O("number",a,"backgroundGlow",n,{min:0,step:.1}),O("number",a,"starGlow",n,{min:0,step:.1}),O("number",a,"starBlur",n,{min:0,step:1}),O("number",a,"coreSize",n,{min:0,step:1}),O("number",a,"coreBlur",n,{min:0,step:1}),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h4",null,"Animation"))),O("checkbox",a,"animated",n),O("number",a,"speed",n,{min:.1,step:.1}),r.a.createElement("tr",null,r.a.createElement("td",{colspan:"3"},r.a.createElement("hr",null),r.a.createElement("div",{className:"info"},r.a.createElement("a",{href:"https://github.com/ShayDavidson/create-galaxy",target:"_blank"},"Github Repo"))))))}var j=a(9),P={name:"default",seed:1234,stars:3e4,spaceColor:"#020e26",starColor0:"#EEEDBE",starColor1:"#0388A6",starColor2:"#025059",starColor3:"#E9F2EB",starColor4:"#7CA67B",minStarSize:.8,maxStarSize:2.3,density:"easeInQuad",spread:675,spreadShape:"easeInCubic",sideShape:"easeOutCubic",heightSpread:.1,height:25,cameraX:.5,cameraY:1,cameraZ:2,backgroundGlow:50,starGlow:10,animated:!0,speed:20,coreColor:"#98C0E6",coreSize:600,coreBlur:30,starBlur:0,type:"spiral",arms:2,armsCurve:.275},R=1500;var B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(function(){var e=r.a.useRef(null);r.a.useEffect(function(){window.mixpanel.track("app-loaded")});var t=r.a.useState(Object(c.a)({default:P},JSON.parse(localStorage.getItem("presets")||"{}"))),a=Object(s.a)(t,2),n=a[0],o=a[1],l=r.a.useState(n[localStorage.getItem("lastPreset")]||P),u=Object(s.a)(l,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"layout"},r.a.createElement(k,{canvasRef:e,size:R,preset:m}),r.a.createElement(A,{presets:Object.keys(n),preset:m,onSave:function(){window.mixpanel.track("image-saved"),e.current.toBlob(function(e){Object(j.saveAs)(e,"galaxy-".concat(m.name,".png"))})},onSavePreset:function(){window.mixpanel.track("preset-saved",m);var e=Object(c.a)({},n,Object(i.a)({},m.name,m));localStorage.setItem("presets",JSON.stringify(e)),o(e)},onChange:function(e){window.mixpanel.track("input-changed",e),d(Object(c.a)({},m,e))},onChangePreset:function(e){var t=e.preset;window.mixpanel.track("preset-changed"),d(n[t]),localStorage.setItem("lastPreset",t)}}))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");B?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):N(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):N(t,e)})}}()}},[[10,1,2]]]);
//# sourceMappingURL=main.322af896.chunk.js.map