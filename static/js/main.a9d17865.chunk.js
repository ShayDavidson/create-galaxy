(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o),l=(a(15),a(1)),c=a(2),s=a(3),u={linear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)}},m=a(7),h=a(8),d=function(){function e(t){Object(m.a)(this,e),this.seed=t,this.original=t,this._random=this.random.bind(this)}return Object(h.a)(e,[{key:"reset",value:function(){this.seed=this.orignal}},{key:"seededRandom",value:function(e){var t=1e4*Math.sin(e);return t-Math.floor(t)}},{key:"random",value:function(){return this.seededRandom(this.seed++)}}]),e}();function p(e,t,a){return e+(t-e)*a}function f(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}function v(e,t,a){return{x:e*Math.sin(t)*Math.cos(a),y:e*Math.sin(t)*Math.sin(a),z:e*Math.cos(t)}}function g(e,t,a){var n=Math.cos(t),r=Math.sin(t),o=Math.cos(a),i=Math.sin(a),l=Math.cos(e),c=Math.sin(e);return{Axx:n*o,Axy:n*i*c-r*l,Axz:n*i*l+r*c,Ayx:r*o,Ayy:r*i*c+n*l,Ayz:r*i*l-n*c,Azx:-i,Azy:o*c,Azz:o*l}}function w(e,t){var a=e.x,n=e.y,r=e.z;return{x:t.Axx*a+t.Axy*n+t.Axz*r,y:t.Ayx*a+t.Ayy*n+t.Ayz*r,z:t.Azx*a+t.Azy*n+t.Azz*r}}var b=2,E=28;function y(e,t,a){for(var n="spiral"===e.type?function(e,t){var a=new d(e.seed),n=u[e.density];return function(){var r,o,i,l,c,s=(r=b,o=e.armsCurve,i=n(a.random())*(t/E),{x:r*Math.exp(o*i)*Math.cos(i),y:r*Math.exp(o*i)*Math.sin(i)}),m=(l=s.x,c=s.y,{r:Math.sqrt(l*l+c*c),t:Math.atan2(c,l)}),h=Math.floor(a.random()*e.arms),d=2*Math.PI*(h/e.arms),g=f(m.r,m.t+d),w=p(0,e.spread,u[e.spreadShape](a.random())),y=p(0,2*Math.PI,a.random()),S=p(0,2*Math.PI,a.random()),M=v(w,y,S);return{x:g.x+M.x,y:g.y+M.y,z:x(e,a,t,m.r)+M.z*e.heightSpread}}}(e,t):function(e,t){var a=new d(e.seed),n=u[e.density];return function(){var r=p(0,t,n(Math.sqrt(a.random()))),o=p(0,2*Math.PI,a.random()),i=f(r,o),l=p(0,e.spread,u[e.spreadShape](a.random())),c=p(0,2*Math.PI,a.random()),s=p(0,2*Math.PI,a.random()),m=v(l,c,s);return{x:i.x+m.x,y:i.y+m.y,z:x(e,a,t,r)+m.z*e.heightSpread}}}(e,t),r=function(e){var t=new d(e.seed),a=[e.starColor0,e.starColor1,e.starColor2,e.starColor3,e.starColor4];return function(){return{size:p(e.minStarSize,e.maxStarSize,t.random()),color:a[Math.floor(t.random()*a.length)]}}}(e),o=g(0,a,0),i=g(e.cameraX,e.cameraZ,e.cameraY),l=[],c=0;c<e.stars;c++){var s=n(),m=w({x:s.x,y:s.y,z:s.z},o),h=w({x:m.x,y:m.y,z:m.z},i),y=r(),S=y.size,M=y.color;l.push({size:S,color:M,position:h})}return l}function x(e,t,a,n){return(1-u[e.sideShape](n/a))*t.random()*e.height*(t.random()>.5?1:-1)}var S=20,M=1e-4,C=10;function O(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.getContext("2d"),o=r.canvas.width,i=o/2,l=y(a,"globular"===a.type?i-S:i,n);r.clearRect(0,0,o,o),r.save(),r.translate(i,i),l.forEach(function(e){return function(e,t,a,n){var r=t.x,o=t.y;e.fillStyle=n,e.fillRect(r-a/2,o-a/2,a,a)}(r,e.position,e.size,e.color)}),r.restore(),function(e,t,a,n){t.globalCompositeOperation="source-over",t.filter="none",t.fillStyle=n.spaceColor,t.fillRect(0,0,a,a),t.filter="blur(".concat(n.mainGlow,"px)"),t.drawImage(e,0,0),t.globalCompositeOperation="screen",t.filter="blur(".concat(n.mainGlow/C,"px)"),t.drawImage(e,0,0),t.globalCompositeOperation="lighten",t.filter="blur(".concat(n.starGlow,"px)"),t.drawImage(e,0,0),t.globalCompositeOperation="overlay",t.filter="blur(".concat(n.coreBlur,"px)");var r=t.createRadialGradient(a/2,a/2,0,a/2,a/2,n.coreSize/2);r.addColorStop(0,"white"),r.addColorStop(.5,n.coreColor),r.addColorStop(1,"transparent"),t.fillStyle=r,t.fillRect((a-n.coreSize)/2,(a-n.coreSize)/2,n.coreSize,n.coreSize),t.globalCompositeOperation="screen",t.filter="blur(".concat(n.starGlow,"px)"),t.drawImage(e,0,0),t.globalCompositeOperation="overlay",t.filter="none",t.drawImage(e,0,0),t.globalCompositeOperation="none",t.filter="none",t.drawImage(e,0,0)}(e,t,o,a),function(e,t){e.globalCompositeOperation="source-over",e.filter="none",e.font="24px Arial",e.fillStyle="rgba(255, 255, 255, 0.75)",e.fillText("creategalaxy.com",8,t-10)}(t,o)}var z=0;function I(e){var t=e.size,a=e.preset,n=e.canvasRef,o=r.a.useRef(null);return r.a.useLayoutEffect(function(){var e=n.current.getContext("2d"),t=o.current,r=null,i=function(){a.animated?(z+=(a.speed||0)*M,O(t,e,a,z)):O(t,e,a,z),l()},l=function(){r=window.requestAnimationFrame(i)};return i(),function(){window.cancelAnimationFrame(r)}},[a,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{className:"offscreen-canvas",ref:o,width:t,height:t}),r.a.createElement("canvas",{className:"canvas",ref:n,width:t,height:t}))}function k(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"label"},r.a.createElement("label",{htmlFor:a},a)),r.a.createElement("div",{className:"input"},r.a.createElement("input",Object.assign({id:a,type:e,value:t[a],checked:"checkbox"===e&&t[a],onChange:function(t){return n(Object(l.a)({},a,"checkbox"===e?t.target.checked:"number"===e?""===t.target.value?0:parseFloat(t.target.value):t.target.value))}},o))),"range"===e&&r.a.createElement("div",{className:"value"},r.a.createElement("input",{type:"text",readOnly:!0,value:t[a]})))}function A(e,t,a,n){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"label"},r.a.createElement("label",{htmlFor:t},t)),r.a.createElement("div",{className:"input"},r.a.createElement("select",{id:t,value:e,onChange:function(e){return n(Object(l.a)({},t,e.target.value))}}," ",a.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}function N(e){var t=e.presets,a=e.preset,n=e.onChange,o=e.onChangePreset,i=e.onSave,l=e.onSavePreset,c=e.onShare;return r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("div",{className:"info"},r.a.createElement("strong",null,"#creategalaxy")," by"," ",r.a.createElement("a",{href:"https://twitter.com/ShayHDavidson",target:"_blank",rel:"noopener noreferrer"},"@ShayDavidson")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("button",{onClick:i},r.a.createElement("span",{role:"img","aria-label":"save-image"},"\ud83c\udf0c")," ","Save Image")),r.a.createElement("div",null,r.a.createElement("button",{onClick:l},r.a.createElement("span",{role:"img","aria-label":"save-preset"},"\ud83d\udcbe")," ","Save Preset"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("button",{onClick:c},r.a.createElement("span",{className:"twitter-icon",role:"img","aria-label":"share"},"\ud83d\udcbe")," ","Share")),r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/ShayDavidson/create-galaxy",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",null,r.a.createElement("span",{className:"github-icon",role:"img","aria-label":"share"},"\ud83d\udcbe")," ","Contribute"))),r.a.createElement("hr",null)),A(a.name,"preset",t,o),k("text",a,"name",n),k("number",a,"seed",n,{min:0,step:1}),k("number",a,"stars",n,{min:0,step:5e3}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Shape"))),A(a.type,"type",["spiral","globular"],n),A(a.density,"density",Object.keys(u),n),k("number",a,"spread",n,{min:0,step:1}),A(a.spreadShape,"spreadShape",Object.keys(u),n),A(a.sideShape,"sideShape",Object.keys(u),n),k("number",a,"height",n,{min:0,step:1}),k("number",a,"heightSpread",n,{min:0,max:1,step:.1}),"spiral"===a.type&&r.a.createElement(r.a.Fragment,null,k("range",a,"arms",n,{min:1,max:8,step:1}),k("range",a,"armsCurve",n,{min:0,max:4,step:.05})),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Colors"))),k("color",a,"spaceColor",n),k("color",a,"coreColor",n),k("color",a,"starColor0",n),k("color",a,"starColor1",n),k("color",a,"starColor2",n),k("color",a,"starColor3",n),k("color",a,"starColor4",n),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Sizes"))),k("number",a,"minStarSize",n,{min:0,step:.1}),k("number",a,"maxStarSize",n,{min:0,step:.1}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Camera"))),k("range",a,"cameraX",n,{min:0,max:2*Math.PI,step:.05}),k("range",a,"cameraY",n,{min:0,max:2*Math.PI,step:.05}),k("range",a,"cameraZ",n,{min:0,max:2*Math.PI,step:.05}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Effects"))),k("number",a,"mainGlow",n,{min:0,step:.1}),k("number",a,"starGlow",n,{min:0,step:.1}),k("number",a,"starBlur",n,{min:0,step:1}),k("number",a,"coreSize",n,{min:0,step:1}),k("number",a,"coreBlur",n,{min:0,step:1}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Animation"))),k("checkbox",a,"animated",n),k("number",a,"speed",n,{min:.1,step:.1}))}var P=a(9),j={name:"default",seed:1234,stars:3e4,spaceColor:"#020e26",starColor0:"#EEEDBE",starColor1:"#0388A6",starColor2:"#025059",starColor3:"#E9F2EB",starColor4:"#7CA67B",minStarSize:.8,maxStarSize:2.3,density:"easeInQuad",spread:675,spreadShape:"easeInCubic",sideShape:"easeOutCubic",heightSpread:.1,height:25,cameraX:.5,cameraY:1,cameraZ:2,mainGlow:50,starGlow:10,animated:!1,speed:20,coreColor:"#98C0E6",coreSize:600,coreBlur:30,starBlur:0,type:"spiral",arms:2,armsCurve:.275},B=1500;var R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(function(){var e=r.a.useRef(null);r.a.useEffect(function(){window.mixpanel.track("app-loaded")});var t=r.a.useState(Object(c.a)({default:j},JSON.parse(localStorage.getItem("presets")||"{}"))),a=Object(s.a)(t,2),n=a[0],o=a[1],i=r.a.useState(n[localStorage.getItem("lastPreset")]||j),u=Object(s.a)(i,2),m=u[0],h=u[1];return r.a.createElement("div",{className:"layout"},r.a.createElement(I,{canvasRef:e,size:B,preset:m}),r.a.createElement(N,{presets:Object.keys(n),preset:m,onSave:function(){window.mixpanel.track("image-saved"),e.current.toBlob(function(e){Object(P.saveAs)(e,"galaxy-".concat(m.name,".png"))})},onSavePreset:function(){window.mixpanel.track("preset-saved",m);var e=Object(c.a)({},n,Object(l.a)({},m.name,m));localStorage.setItem("presets",JSON.stringify(e)),o(e)},onChange:function(e){window.mixpanel.track("input-changed",e),h(Object(c.a)({},m,e))},onChangePreset:function(e){var t=e.preset;window.mixpanel.track("preset-changed"),h(n[t]),localStorage.setItem("lastPreset",t)},onShare:function(){alert("hey")}}))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");R?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):F(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):F(t,e)})}}()}},[[10,1,2]]]);
//# sourceMappingURL=main.a9d17865.chunk.js.map