(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o),c=(a(16),a(1)),s=a(2),l=a(3);function u(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function m(){return!navigator.userAgent.match(/Version\/[\d.]+.*Safari/)&&!u()}var d={linear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)}},h=a(7),p=a(8),f=function(){function e(t){Object(h.a)(this,e),this.seed=t,this.original=t,this._random=this.random.bind(this)}return Object(p.a)(e,[{key:"reset",value:function(){this.seed=this.orignal}},{key:"seededRandom",value:function(e){var t=1e4*Math.sin(e);return t-Math.floor(t)}},{key:"random",value:function(){return this.seededRandom(this.seed++)}}]),e}();function v(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function g(e,t,a){return e+(t-e)*a}function b(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}function y(e,t,a){return{x:e*Math.sin(t)*Math.cos(a),y:e*Math.sin(t)*Math.sin(a),z:e*Math.cos(t)}}function w(e,t,a){var n=Math.cos(t),r=Math.sin(t),o=Math.cos(a),i=Math.sin(a),c=Math.cos(e),s=Math.sin(e);return{Axx:n*o,Axy:n*i*s-r*c,Axz:n*i*c+r*s,Ayx:r*o,Ayy:r*i*s+n*c,Ayz:r*i*c-n*s,Azx:-i,Azy:o*s,Azz:o*c}}function S(e,t){var a=e.x,n=e.y,r=e.z;return{x:t.Axx*a+t.Axy*n+t.Axz*r,y:t.Ayx*a+t.Ayy*n+t.Ayz*r,z:t.Azx*a+t.Azy*n+t.Azz*r}}var E=2,x=28;function M(e,t,a){for(var n="spiral"===e.type?function(e,t){var a=new f(e.seed),n=d[e.density];return function(){var r,o,i,c,s,l=(r=E,o=e.armsCurve,i=n(a.random())*(t/x),{x:r*Math.exp(o*i)*Math.cos(i),y:r*Math.exp(o*i)*Math.sin(i)}),u=(c=l.x,s=l.y,{r:Math.sqrt(c*c+s*s),t:Math.atan2(s,c)}),m=Math.floor(a.random()*e.arms),h=2*Math.PI*(m/e.arms),p=b(u.r,u.t+h),f=g(0,e.spread,d[e.spreadShape](a.random())),v=g(0,2*Math.PI,a.random()),w=g(0,2*Math.PI,a.random()),S=y(f,v,w);return{x:p.x+S.x,y:p.y+S.y,z:C(e,a,t,u.r)+S.z*e.heightSpread}}}(e,t):function(e,t){var a=new f(e.seed),n=d[e.density];return function(){var r=g(0,t,n(Math.sqrt(a.random()))),o=g(0,2*Math.PI,a.random()),i=b(r,o),c=g(0,e.spread,d[e.spreadShape](a.random())),s=g(0,2*Math.PI,a.random()),l=g(0,2*Math.PI,a.random()),u=y(c,s,l);return{x:i.x+u.x,y:i.y+u.y,z:C(e,a,t,r)+u.z*e.heightSpread}}}(e,t),r=function(e){var t=new f(e.seed),a=e.starColor.map(v);return function(){return{size:g(e.minStarSize,e.maxStarSize,t.random()),color:a[Math.floor(t.random()*a.length)]}}}(e),o=w(0,a,0),i=w(e.cameraX,e.cameraZ,e.cameraY),c=[],s=0;s<e.stars;s++){var l=n(),u=S({x:l.x,y:l.y,z:l.z},o),m=S({x:u.x,y:u.y,z:u.z},i),h=r(),p=h.size,M=h.color;c.push({size:p,color:M,position:m})}return c}function C(e,t,a,n){return(1-d[e.sideShape](n/a))*t.random()*e.height*(t.random()>.5?1:-1)}var O=20,k=1e-4,I=["source-over","lighter","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light"];function z(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.getContext("2d"),o=r.canvas.width,i=o/2,c=M(a,"globular"===a.type?i-O:i,n);r.clearRect(0,0,o,o);var s=r.getImageData(0,0,o,o);c.forEach(function(e){return function(e,t,a,n,r){var o=a.x,i=a.y,c=r.r,s=r.g,l=r.b;if(o>t/2||o<-t/2||i>t/2||i<-t/2)return;var u=4*(Math.floor(o)+t/2+(Math.floor(i)+t/2)*t),m=e.data;m[u+0]=c,m[u+1]=s,m[u+2]=l,m[u+3]=255}(s,o,e.position,e.size,e.color)}),r.putImageData(s,0,0),function(e,t,a,n){t.globalCompositeOperation="source-over",t.filter="none",t.fillStyle=n.spaceColor,t.fillRect(0,0,a,a),m()&&n.layers.forEach(function(r){if(t.globalCompositeOperation=r.blend,t.filter=r.blur>0?"blur(".concat(r.blur,"px)"):"none","glow"===r.type)t.drawImage(e,0,0);else if("core"===r.type){var o=t.createRadialGradient(a/2,a/2,0,a/2,a/2,r.size/2);o.addColorStop(0,"white"),o.addColorStop(.5,r.color),o.addColorStop(1,"transparent"),t.fillStyle=o,t.fillRect((a-n.coreSize)/2,(a-n.coreSize)/2,n.coreSize,n.coreSize)}})}(e,t,o,a),function(e,t,a){e.watermark&&(t.globalCompositeOperation="source-over",t.filter="none",t.font="24px Arial",t.fillStyle="rgba(255, 255, 255, 0.75)",t.fillText("creategalaxy.com",8,a-10))}(a,t,o)}var N=0;function A(e){var t=e.size,a=e.preset,n=e.canvasRef,o=r.a.useRef(null),i=r.a.useRef(null);return r.a.useLayoutEffect(function(){var e=n.current.getContext("2d"),t=o.current,r=null,i=function(){a.animated?(N+=(a.animSpeed||0)*k,z(t,e,a,N),c()):z(t,e,a,N)},c=function(){r=window.requestAnimationFrame(i)};return i(),function(){window.cancelAnimationFrame(r)}},[a,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{className:"textures-canvas",ref:i,width:t,height:t}),r.a.createElement("canvas",{className:"offscreen-canvas",ref:o,width:t,height:t}),r.a.createElement("canvas",{className:"canvas",ref:n,width:t,height:t}))}var j=a(10);function P(e){return void 0!==e}function R(e,t,a){return Object.assign([],e,Object(c.a)({},t,a))}function F(e,t,a){var n;return Object.assign([],e,(n={},Object(c.a)(n,t,e[a]),Object(c.a)(n,a,e[t]),n))}var B={"source-over":"plain"};function Q(e,t,a){var n=e[t];return function(){a(Object(c.a)({},t,n.concat(n[n.length-1])))}}function q(e){13===e.keyCode&&(e.preventDefault(),e.target.blur())}function D(e){return r.a.createElement("div",{className:"row"},r.a.createElement("h4",null,e))}function W(){return r.a.createElement("div",{className:"row"},r.a.createElement("hr",null))}function T(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.index,s=Object(j.a)(o,["index"]),l=void 0!==i,u=l?t[a][i]:t[a],m=l?"".concat(a,":").concat(i):a;return r.a.createElement("div",{key:m,className:"row"},r.a.createElement("label",{className:"input-label",htmlFor:m},m),r.a.createElement("input",Object.assign({id:m,className:"standard-input",type:e,value:u,checked:"checkbox"===e&&t[a],onChange:function(r){var o="checkbox"===e?r.target.checked:"number"===e?""===r.target.value?"":parseFloat(r.target.value):r.target.value;n(l?Object(c.a)({},a,R(t[a],i,o)):Object(c.a)({},a,o))},onKeyUp:q},s)),"range"===e&&r.a.createElement("input",{className:"fill-input",type:"text",readOnly:!0,value:u}),l&&t[a].length>1&&r.a.createElement("button",{className:"destructive",onClick:function(){n(Object(c.a)({},a,R(t[a],i,void 0).filter(P)))}},"\u2716"))}function U(e,t,a,n){return r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"input-label",htmlFor:t},t),r.a.createElement("select",{id:t,className:"standard-input",value:e,onChange:function(e){return n(Object(c.a)({},t,e.target.value))}}," ",a.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))}function L(e){var t=e.presets,a=e.preset,n=e.onChange,o=e.onChangePreset,i=e.onSave,c=e.onSavePreset,l=e.onShare;return r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"info"},r.a.createElement("strong",null,"#creategalaxy")," by"," ",r.a.createElement("a",{href:"https://twitter.com/ShayHDavidson",target:"_blank",rel:"noopener noreferrer"},"@ShayDavidson"))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"action-button",onClick:i},r.a.createElement("span",{role:"img","aria-label":"save-image"},"\ud83d\udcf7")," ","Save Image"),r.a.createElement("button",{className:"action-button",onClick:c},r.a.createElement("span",{role:"img","aria-label":"save-preset"},"\ud83d\udcbe")," ","Save Preset")),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"action-button",onClick:l},r.a.createElement("span",{className:"twitter-icon",role:"img","aria-label":"share"},"\ud83d\udcbe")," ","Share"),r.a.createElement("a",{href:"https://github.com/ShayDavidson/create-galaxy",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{className:"action-button"},r.a.createElement("span",{className:"github-icon",role:"img","aria-label":"share"},"\ud83d\udcbe")," ","Contribute"))),W(),U(a.name,"preset",t,o),T("text",a,"name",n),T("number",a,"seed",n,{min:0,step:1}),T("number",a,"stars",n,{min:0,step:5e3}),D("Shape"),U(a.type,"type",["spiral","globular"],n),U(a.density,"density",Object.keys(d),n),T("number",a,"spread",n,{min:0,step:1}),U(a.spreadShape,"spreadShape",Object.keys(d),n),U(a.sideShape,"sideShape",Object.keys(d),n),T("number",a,"height",n,{min:0,step:1}),T("number",a,"heightSpread",n,{min:0,max:1,step:.1}),"spiral"===a.type&&r.a.createElement(r.a.Fragment,null,T("range",a,"arms",n,{min:1,max:10,step:1}),T("range",a,"armsCurve",n,{min:0,max:5,step:.025})),D("Colors"),T("color",a,"spaceColor",n),a.starColor.map(function(e,t){return T("color",a,"starColor",n,{index:t})}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"add-button",onClick:Q(a,"starColor",n)},r.a.createElement("span",{role:"img","aria-label":"add-color"},"\ud83c\udfa8")," ","Add color")),D("Sizes"),T("number",a,"minStarSize",n,{min:0,step:.1}),T("number",a,"maxStarSize",n,{min:0,step:.1}),D("Camera"),T("range",a,"cameraX",n,{min:0,max:2*Math.PI,step:.05}),T("range",a,"cameraY",n,{min:0,max:2*Math.PI,step:.05}),T("range",a,"cameraZ",n,{min:0,max:2*Math.PI,step:.05}),D("Effect Layers"),m()?r.a.createElement(r.a.Fragment,null,a.layers.map(function(e,t){return function(e,t,a){var n=e.layers[t],o="layer".concat(t);return r.a.createElement("div",{key:o,className:"layer row"},r.a.createElement("select",{className:"blend",value:n.blend,onChange:function(r){a({layers:R(e.layers,t,Object(s.a)({},n,{blend:r.target.value}))})}}," ",I.map(function(e){return r.a.createElement("option",{key:e,value:e},B[e]?B[e]:e)})),r.a.createElement("input",{type:"number",className:"blur",value:n.blur,min:0,onChange:function(r){a({layers:R(e.layers,t,Object(s.a)({},n,{blur:r.target.value}))})},onKeyUp:q}),e.layers.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{disabled:0===t,onClick:function(){a({layers:F(e.layers,t,t-1)})}},"\u2b06"),r.a.createElement("button",{disabled:t===e.layers.length-1,onClick:function(){a({layers:F(e.layers,t,t+1)})}},"\u2b07"),r.a.createElement("button",{className:"destructive",onClick:function(){a({layers:R(e.layers,t,void 0).filter(P)})}},"\u2716")))}(a,t,n)}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"add-button",onClick:Q(a,"layers",n)},r.a.createElement("span",{role:"img","aria-label":"add-effect-layer"},"\ud83d\udca5")," ","Add layer"))):r.a.createElement("div",{className:"error"},u()?"Not supported in iPhone \ud83d\ude1e":"Not supported in this browser \ud83d\ude1e"),D("Extra"),T("checkbox",a,"animated",n),a.animated&&T("number",a,"animSpeed",n,{min:.1,step:.1}),T("checkbox",a,"watermark",n),W())}var J=a(9);function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;window.ga&&window.ga("send","event",{eventAction:e,eventLabel:t})}var X="1",Y={name:"default",seed:1234,stars:3e4,spaceColor:"#020e26",starColor:["#EEEDBE","#0388A6","#025059","#E9F2EB","#7CA67B"],minStarSize:.8,maxStarSize:2.3,density:"easeInQuad",spread:675,spreadShape:"easeInCubic",sideShape:"easeOutCubic",heightSpread:.1,height:25,cameraX:.5,cameraY:1,cameraZ:2,animated:!1,animSpeed:20,type:"spiral",layers:[{blur:10,blend:"source-over",type:"glow"},{blur:5,blend:"screen",type:"glow"},{blur:10,blend:"lighten",type:"glow"},{blur:0,blend:"screen",type:"glow"},{blur:0,blend:"overlay",type:"glow"},{blur:0,blend:"source-over",type:"glow"},{blur:30,blend:"overlay",type:"core",size:600,color:"#98C0E6"}],arms:2,armsCurve:.275,watermark:!0},Z=1500;var _=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}localStorage.getItem("presetVersion")!==X&&(localStorage.clear(),localStorage.setItem("presetVersion",X)),i.a.render(r.a.createElement(function(){var e=r.a.useRef(null),t=r.a.useState(Object(s.a)({default:Y},JSON.parse(localStorage.getItem("presets")||"{}"))),a=Object(l.a)(t,2),n=a[0],o=a[1],i=r.a.useState(n[localStorage.getItem("lastPreset")]||Y),u=Object(l.a)(i,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"layout"},r.a.createElement(A,{canvasRef:e,size:Z,preset:m}),r.a.createElement(L,{presets:Object.keys(n),preset:m,onSave:function(){V("click","imageSaved"),e.current.toBlob(function(e){Object(J.saveAs)(e,"galaxy-".concat(m.name,".png"))})},onSavePreset:function(){V("click","presetSaved");var e=Object(s.a)({},n,Object(c.a)({},m.name,m));localStorage.setItem("presets",JSON.stringify(e)),localStorage.setItem("lastPreset",m.name),o(e)},onChange:function(e){V("inputChanged",Object.keys(e)[0]),d(Object(s.a)({},m,e))},onChangePreset:function(e){var t=e.preset;V("presetChanged"),d(n[t]),localStorage.setItem("lastPreset",t)},onShare:function(){V("click","shareTwitter"),function(e,t,a){var n="http://twitter.com/share?",r={url:e,text:t,hashtags:a.join(",")};for(var o in r)n+="&"+o+"="+encodeURIComponent(r[o]);window.open(n,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0")}("".concat(window.location.href,"?=").concat(""),"I created a galaxy! \u2b50",["icreatedagalaxy","reversim2019"])}}))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");_?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):K(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):K(t,e)})}}()}},[[11,1,2]]]);
//# sourceMappingURL=main.8e51a376.chunk.js.map