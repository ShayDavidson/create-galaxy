(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(16)},15:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(6),i=t.n(o),c=(t(15),t(1)),l=t(2),s=t(3);var u={linear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var a=1.70158;return e*e*((a+1)*e-a)},easeOutBack:function(e){var a=1.70158;return(e-=1)*e*((a+1)*e+a)+1},easeInOutBack:function(e){var a=1.70158;return(e/=.5)<1?e*e*((1+(a*=1.525))*e-a)*.5:.5*((e-=2)*e*((1+(a*=1.525))*e+a)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var a=1.70158;return(e/=.5)<1?e*e*((1+(a*=1.525))*e-a)*.5:.5*((e-=2)*e*((1+(a*=1.525))*e+a)+2)},swingFrom:function(e){var a=1.70158;return e*e*((a+1)*e-a)},swingTo:function(e){var a=1.70158;return(e-=1)*e*((a+1)*e+a)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)}},m=t(7),d=t(8),h=function(){function e(a){Object(m.a)(this,e),this.seed=a,this.original=a,this._random=this.random.bind(this)}return Object(d.a)(e,[{key:"reset",value:function(){this.seed=this.orignal}},{key:"seededRandom",value:function(e){var a=1e4*Math.sin(e);return a-Math.floor(a)}},{key:"random",value:function(){return this.seededRandom(this.seed++)}}]),e}();function p(e){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}}function f(e,a,t){return e+(a-e)*t}function v(e,a){return{x:e*Math.cos(a),y:e*Math.sin(a)}}function g(e,a,t){return{x:e*Math.sin(a)*Math.cos(t),y:e*Math.sin(a)*Math.sin(t),z:e*Math.cos(a)}}function w(e,a,t){var n=Math.cos(a),r=Math.sin(a),o=Math.cos(t),i=Math.sin(t),c=Math.cos(e),l=Math.sin(e);return{Axx:n*o,Axy:n*i*l-r*c,Axz:n*i*c+r*l,Ayx:r*o,Ayy:r*i*l+n*c,Ayz:r*i*c-n*l,Azx:-i,Azy:o*l,Azz:o*c}}function b(e,a){var t=e.x,n=e.y,r=e.z;return{x:a.Axx*t+a.Axy*n+a.Axz*r,y:a.Ayx*t+a.Ayy*n+a.Ayz*r,z:a.Azx*t+a.Azy*n+a.Azz*r}}var E=2,y=28;function x(e,a,t){for(var n="spiral"===e.type?function(e,a){var t=new h(e.seed),n=u[e.density];return function(){var r,o,i,c,l,s=(r=E,o=e.armsCurve,i=n(t.random())*(a/y),{x:r*Math.exp(o*i)*Math.cos(i),y:r*Math.exp(o*i)*Math.sin(i)}),m=(c=s.x,l=s.y,{r:Math.sqrt(c*c+l*l),t:Math.atan2(l,c)}),d=Math.floor(t.random()*e.arms),h=2*Math.PI*(d/e.arms),p=v(m.r,m.t+h),w=f(0,e.spread,u[e.spreadShape](t.random())),b=f(0,2*Math.PI,t.random()),x=f(0,2*Math.PI,t.random()),S=g(w,b,x);return{x:p.x+S.x,y:p.y+S.y,z:M(e,t,a,m.r)+S.z*e.heightSpread}}}(e,a):function(e,a){var t=new h(e.seed),n=u[e.density];return function(){var r=f(0,a,n(Math.sqrt(t.random()))),o=f(0,2*Math.PI,t.random()),i=v(r,o),c=f(0,e.spread,u[e.spreadShape](t.random())),l=f(0,2*Math.PI,t.random()),s=f(0,2*Math.PI,t.random()),m=g(c,l,s);return{x:i.x+m.x,y:i.y+m.y,z:M(e,t,a,r)+m.z*e.heightSpread}}}(e,a),r=function(e){var a=new h(e.seed),t=[e.starColor0,e.starColor1,e.starColor2,e.starColor3,e.starColor4].map(p);return function(){return{size:f(e.minStarSize,e.maxStarSize,a.random()),color:t[Math.floor(a.random()*t.length)]}}}(e),o=w(0,t,0),i=w(e.cameraX,e.cameraZ,e.cameraY),c=[],l=0;l<e.stars;l++){var s=n(),m=b({x:s.x,y:s.y,z:s.z},o),d=b({x:m.x,y:m.y,z:m.z},i),x=r(),S=x.size,C=x.color;c.push({size:S,color:C,position:d})}return c}function M(e,a,t,n){return(1-u[e.sideShape](n/t))*a.random()*e.height*(a.random()>.5?1:-1)}var S=20,C=1e-4,I=10;function O(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.getContext("2d"),o=r.canvas.width,i=o/2,c=x(t,"globular"===t.type?i-S:i,n);r.clearRect(0,0,o,o);var l=r.getImageData(0,0,o,o);c.forEach(function(e){return function(e,a,t,n,r){var o=t.x,i=t.y,c=r.r,l=r.g,s=r.b;if(o>a/2||o<-a/2||i>a/2||i<-a/2)return;var u=4*(Math.floor(o)+a/2+(Math.floor(i)+a/2)*a),m=e.data;m[u+0]=c,m[u+1]=l,m[u+2]=s,m[u+3]=255}(l,o,e.position,e.size,e.color)}),r.putImageData(l,0,0),function(e,a,t,n){if(a.globalCompositeOperation="source-over",a.filter="none",a.fillStyle=n.spaceColor,a.fillRect(0,0,t,t),a.filter="blur(".concat(n.mainGlow,"px)"),a.drawImage(e,0,0),a.globalCompositeOperation="screen",a.filter="blur(".concat(n.mainGlow/I,"px)"),a.drawImage(e,0,0),a.globalCompositeOperation="lighten",a.filter="blur(".concat(n.starGlow,"px)"),a.drawImage(e,0,0),!navigator.userAgent.match(/Version\/[\d.]+.*Safari/)&&(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)){a.globalCompositeOperation="overlay",a.filter="blur(".concat(n.coreBlur,"px)");var r=a.createRadialGradient(t/2,t/2,0,t/2,t/2,n.coreSize/2);r.addColorStop(0,"white"),r.addColorStop(.5,n.coreColor),r.addColorStop(1,"transparent"),a.fillStyle=r,a.fillRect((t-n.coreSize)/2,(t-n.coreSize)/2,n.coreSize,n.coreSize)}a.globalCompositeOperation="screen",a.filter="blur(".concat(n.starGlow,"px)"),a.drawImage(e,0,0),a.globalCompositeOperation="overlay",a.filter="none",a.drawImage(e,0,0),a.globalCompositeOperation="none",a.filter="none",a.drawImage(e,0,0)}(e,a,o,t),function(e,a){e.globalCompositeOperation="source-over",e.filter="none",e.font="24px Arial",e.fillStyle="rgba(255, 255, 255, 0.75)",e.fillText("creategalaxy.com",8,a-10)}(a,o)}var z=0;function k(e){var a=e.size,t=e.preset,n=e.canvasRef,o=r.a.useRef(null);return r.a.useLayoutEffect(function(){var e=n.current.getContext("2d"),a=o.current,r=null,i=function(){t.animated?(z+=(t.speed||0)*C,O(a,e,t,z),c()):O(a,e,t,z)},c=function(){r=window.requestAnimationFrame(i)};return i(),function(){window.cancelAnimationFrame(r)}},[t,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{className:"offscreen-canvas",ref:o,width:a,height:a}),r.a.createElement("canvas",{className:"canvas",ref:n,width:a,height:a}))}function A(e,a,t,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"label"},r.a.createElement("label",{htmlFor:t},t)),r.a.createElement("div",{className:"input"},r.a.createElement("input",Object.assign({id:t,type:e,value:a[t],checked:"checkbox"===e&&a[t],onChange:function(a){return n(Object(c.a)({},t,"checkbox"===e?a.target.checked:"number"===e?""===a.target.value?0:parseFloat(a.target.value):a.target.value))},onKeyPress:function(e){13===e.keyCode&&(e.preventDefault(),e.target.blur())}},o))),"range"===e&&r.a.createElement("div",{className:"value"},r.a.createElement("input",{type:"text",readOnly:!0,value:a[t]})))}function N(e,a,t,n){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"label"},r.a.createElement("label",{htmlFor:a},a)),r.a.createElement("div",{className:"input"},r.a.createElement("select",{id:a,value:e,onChange:function(e){return n(Object(c.a)({},a,e.target.value))}}," ",t.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}function P(e){var a=e.presets,t=e.preset,n=e.onChange,o=e.onChangePreset,i=e.onSave,c=e.onSavePreset,l=e.onShare;return r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("div",{className:"info"},r.a.createElement("strong",null,"#creategalaxy")," by"," ",r.a.createElement("a",{href:"https://twitter.com/ShayHDavidson",target:"_blank",rel:"noopener noreferrer"},"@ShayDavidson")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("button",{onClick:i},r.a.createElement("span",{role:"img","aria-label":"save-image"},"\ud83d\udcf7")," ","Save Image")),r.a.createElement("div",null,r.a.createElement("button",{onClick:c},r.a.createElement("span",{role:"img","aria-label":"save-preset"},"\ud83d\udcbe")," ","Save Preset"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("button",{onClick:l},r.a.createElement("span",{className:"twitter-icon",role:"img","aria-label":"share"},"\ud83d\udcbe")," ","Share")),r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/ShayDavidson/create-galaxy",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",null,r.a.createElement("span",{className:"github-icon",role:"img","aria-label":"share"},"\ud83d\udcbe")," ","Contribute"))),r.a.createElement("hr",null)),N(t.name,"preset",a,o),A("text",t,"name",n),A("number",t,"seed",n,{min:0,step:1}),A("number",t,"stars",n,{min:0,step:5e3}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Shape"))),N(t.type,"type",["spiral","globular"],n),N(t.density,"density",Object.keys(u),n),A("number",t,"spread",n,{min:0,step:1}),N(t.spreadShape,"spreadShape",Object.keys(u),n),N(t.sideShape,"sideShape",Object.keys(u),n),A("number",t,"height",n,{min:0,step:1}),A("number",t,"heightSpread",n,{min:0,max:1,step:.1}),"spiral"===t.type&&r.a.createElement(r.a.Fragment,null,A("range",t,"arms",n,{min:1,max:8,step:1}),A("range",t,"armsCurve",n,{min:0,max:4,step:.05})),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Colors"))),A("color",t,"spaceColor",n),A("color",t,"coreColor",n),A("color",t,"starColor0",n),A("color",t,"starColor1",n),A("color",t,"starColor2",n),A("color",t,"starColor3",n),A("color",t,"starColor4",n),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Sizes"))),A("number",t,"minStarSize",n,{min:0,step:.1}),A("number",t,"maxStarSize",n,{min:0,step:.1}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Camera"))),A("range",t,"cameraX",n,{min:0,max:2*Math.PI,step:.05}),A("range",t,"cameraY",n,{min:0,max:2*Math.PI,step:.05}),A("range",t,"cameraZ",n,{min:0,max:2*Math.PI,step:.05}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Effects"))),A("number",t,"mainGlow",n,{min:0,step:.1}),A("number",t,"starGlow",n,{min:0,step:.1}),A("number",t,"starBlur",n,{min:0,step:1}),A("number",t,"coreSize",n,{min:0,step:1}),A("number",t,"coreBlur",n,{min:0,step:1}),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h4",null,"Animation"))),A("checkbox",t,"animated",n),A("number",t,"speed",n,{min:.1,step:.1}),r.a.createElement("div",{className:"row"},r.a.createElement("hr",null)))}var j=t(9);var B={name:"default",seed:1234,stars:3e4,spaceColor:"#020e26",starColor0:"#EEEDBE",starColor1:"#0388A6",starColor2:"#025059",starColor3:"#E9F2EB",starColor4:"#7CA67B",minStarSize:.8,maxStarSize:2.3,density:"easeInQuad",spread:675,spreadShape:"easeInCubic",sideShape:"easeOutCubic",heightSpread:.1,height:25,cameraX:.5,cameraY:1,cameraZ:2,mainGlow:50,starGlow:10,animated:!1,speed:20,coreColor:"#98C0E6",coreSize:600,coreBlur:30,starBlur:0,type:"spiral",arms:2,armsCurve:.275},R=1500;var F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(function(){var e=r.a.useRef(null);r.a.useEffect(function(){window.mixpanel.track("app-loaded")});var a=r.a.useState(Object(l.a)({default:B},JSON.parse(localStorage.getItem("presets")||"{}"))),t=Object(s.a)(a,2),n=t[0],o=t[1],i=r.a.useState(n[localStorage.getItem("lastPreset")]||B),u=Object(s.a)(i,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"layout"},r.a.createElement(k,{canvasRef:e,size:R,preset:m}),r.a.createElement(P,{presets:Object.keys(n),preset:m,onSave:function(){window.mixpanel.track("image-saved"),e.current.toBlob(function(e){Object(j.saveAs)(e,"galaxy-".concat(m.name,".png"))})},onSavePreset:function(){window.mixpanel.track("preset-saved",m);var e=Object(l.a)({},n,Object(c.a)({},m.name,m));localStorage.setItem("presets",JSON.stringify(e)),o(e)},onChange:function(e){window.mixpanel.track("input-changed",e),d(Object(l.a)({},m,e))},onChangePreset:function(e){var a=e.preset;window.mixpanel.track("preset-changed"),d(n[a]),localStorage.setItem("lastPreset",a)},onShare:function(){!function(e,a,t){var n="http://twitter.com/share?",r={url:e,text:a,hashtags:t.join(",")};for(var o in r)n+="&"+o+"="+encodeURIComponent(r[o]);window.open(n,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0")}("".concat(window.location.href,"?=").concat(""),"I created a galaxy! \u2b50",["icreatedagalaxy","reversim2019"])}}))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("","/service-worker.js");F?(function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Q(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Q(a,e)})}}()}},[[10,1,2]]]);
//# sourceMappingURL=main.f6ca9552.chunk.js.map